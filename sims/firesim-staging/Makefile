#########################################################################################
# firesim-wrapper makefile
#########################################################################################

#########################################################################################
# general path variables
#########################################################################################
base_dir=$(abspath ../..)
sim_dir=$(abspath .)

#########################################################################################
# include shared variables
#########################################################################################
include $(base_dir)/variables.mk

#########################################################################################
# generate firrtl + annos needed for firesim (should also produce a *.sfc.fir file)
#########################################################################################
.PHONY: default
default: firrtl

#########################################################################################
# unused
# TODO: remove from main common.mk into simulator specific .mk
#########################################################################################
sim_name = unused
sim_prefix = unused
sim = unused
sim_debug = unused

$(sim_files): | $(build_dir)
	touch $@

#########################################################################################
# import other necessary rules and variables
#########################################################################################
include $(base_dir)/common.mk

#########################################################################################
# general cleanup rules
#########################################################################################
.PHONY: clean
clean:
	rm -rf $(CLASSPATH_CACHE) $(gen_dir)
